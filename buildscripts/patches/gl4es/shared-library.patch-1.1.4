diff --git a/Android.mk b/Android.mk
index 51831b97..22f33a62 100755
--- a/Android.mk
+++ b/Android.mk
@@ -91,11 +91,12 @@ LOCAL_SRC_FILES := \
 LOCAL_CFLAGS += -g -std=c99 -funwind-tables -O3 -fvisibility=hidden -include include/android_debug.h
 LOCAL_CFLAGS += -DNOX11
 LOCAL_CFLAGS += -DNO_GBM
+LOCAL_CFLAGS += -Dasm=__asm__ -Dvolatile=__volatile__
 #LOCAL_CFLAGS += -DNO_INIT_CONSTRUCTOR
 #LOCAL_CFLAGS += -DDEFAULT_ES=2
 
 LOCAL_LDLIBS := -ldl -llog
 #building as a static lib
 
-LOCAL_CFLAGS += -DSTATICLIB
-include $(BUILD_STATIC_LIBRARY)
+#LOCAL_CFLAGS += -DSTATICLIB
+include $(BUILD_SHARED_LIBRARY)
